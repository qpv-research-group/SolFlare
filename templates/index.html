{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Silicon Absorption Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        input {max-width: 6em};
    </style>
</head>


<body style="padding: 20px">

<table style="width:100%" style="text-align: center">
    <tr>
        <th> <img src="{% static 'unswlogo.png' %}" height="50"> </th>
        <th> <a href="http://rayflare.readthedocs.io"><img src="{% static 'rayflare_logo.svg' %}" height="60"> </a></th>
        <th> <a href="http://www.solcore.solar"><img src="{% static 'solcore.png' %}" height="50"> </a></th>
    </tr>


{#    <tr>#}
{#        <td colspan="3" style="text-align: center"> <h3>Solcore & RayFlare running on the web</h3></td>#}
{#    </tr>#}

</table>

<br>

<h1> Silicon Absorption Calculator </h1>
<br>

<p>The absorption of silicon is calculated using the <a href="http://rayflare.readthedocs.io">RayFlare</a> Python framework.  The calculation can be performed for a silicon slab of variable thickness, with an AR coating on the front surface and the option of a front surface texture and aluminium rear reflector. A transfer-matrix method is used for planar structures and calculates instantaneously. A ray-trace method is used for textured silicon that may take a minute or two to complete.  A standalone example Python script for this calculation can be <a href="{% static 'siliconabsorption.py' %}" download>downloaded here.</a> </p>

<br>
<form  method="POST">
    {% csrf_token %}
    <table>
    {{ form.as_table }}
    </table>

    <br>

    <button type="submit" name="calculate">Calculate</button>
    <button type="submit" name="downloadR">Download Reflectance</button>
    <button type="submit" name="downloadG">Download Generation</button>
</form>

<p> The reflectance data and generation rate (for import into PC1D) can be downloaded.  NB, do not attempt to download data ahead of calculating!!</p>

<img src="data:image/png;base64,{{ graph }}" alt="" width="600">



</body>
</html>